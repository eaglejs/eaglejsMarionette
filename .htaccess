  RewriteEngine On
# If requested resource exists as a file or directory
  # (REQUEST_FILENAME is only relative in virtualhost context, so not usable)
    RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f [OR]
    RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -d
    # Go to it as is
    RewriteRule ^ - [L]

  # If non existent
    # If path ends with / and is not just a single /, redirect to without the trailing /
      RewriteCond %{REQUEST_URI} ^.*/$
      RewriteCond %{REQUEST_URI} !^/$
      RewriteRule ^(.*)/$ $1 [R,QSA,L]      

  # Handle Prerender.io
    RequestHeader set X-Prerender-Token "YOUR_TOKEN"

    RewriteCond %{HTTP_USER_AGENT} baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest [NC,OR]
    RewriteCond %{QUERY_STRING} _escaped_fragment_

    # Proxy the request
    RewriteRule ^(.*)$ http://service.prerender.io/http://%{HTTP_HOST}$1 [P,L]

  # If non existent
    # Accept everything on index.html
    RewriteRule ^ /index.html






#RewriteEngine on

#RewriteCond %{HTTP_USER_AGENT} (baiduspider|bingbot|facebookexternalhit|twitterbot|rogerbot|linkedinbot|pintrest|googlebot) [NC,OR]
#RewriteCond %{QUERY_STRING} _escaped_fragment_
#RewriteRule ^(.*)$ http://www.eagle-js.com:3000/http://www.eagle-js.com$2 [P,L]

#RewriteEngine on
#RewriteCond %{REQUEST_URI} ^/home$
#RewriteCond %{QUERY_STRING} !^_escaped_fragment_
#RewriteRule ^(.*)$ http://%{HTTP_HOST}/ [NE,R,L]
#RewriteCond %{REQUEST_URI} ^/portfolio$
#RewriteCond %{QUERY_STRING} !^_escaped_fragment_
#RewriteRule ^(.*)$ http://%{HTTP_HOST}/#portfolio [NE,R,L]
#RewriteCond %{REQUEST_URI} ^/social-coding$
#RewriteCond %{QUERY_STRING} !^_escaped_fragment_
#RewriteRule ^(.*)$ http://%{HTTP_HOST}/#social-coding [NE,R,L]